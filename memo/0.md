# カーソル移動

## 次元数

* 1次元(i)
* 2次元(x,y)
* 3次元(x,y,z)

## 末尾到達時挙動

方法|向|量
----|--|--
loop|同|1
yoyo|逆|1
stop|―|0

## 方向

　一次元。

記号|英|語
----|--|--
-|minus|next,foward
+|plus|prev,back

## 表示領域

一次元|i|IndexCursor|
二次元|x,y|GridCursor|
二次元＋|(x,y),(a,b)|GridCursor|

* index
* page
* depth（attribute, class）

```javascript
class IndexCursor {
    OverMethods = {
        Loop: 'loop',
        Yoyo: 'yoyo',
        Stop: 'stop',
    }
    Dirs = {
        Minus: -1,
        Plus: 1,
    }
	constructor(l) {
        this._i = 0 // index  添字
        this._l = l // length 長さ
        this._d = 1 // direction 方向
        this._q = 1 // quantity 量
        this._overMethod = IndexCursor.OverMethods.Loop
    }
    get i( ) { return this._i }
    get fi( ) { return 0 }
    get li( ) { return this._l - 1 }

    
//    set i(v) { if (0 <= v && v < this._l) { this._i = v } }
    set i(v) {
        if (v < 0) {
                 if (IndexCursor.OverMethods.Loop) { this._i = this.li }
            else if (IndexCursor.OverMethods.Yoyo) { this._i = this.fi + 1 }
            else if (IndexCursor.OverMethods.Stop) { this._i = this.li }
        }
        if (0 <= v && v < this._l) { this._i = v }
    }
    get l( ) { return this._i }
    set l(v) { if (v < this._l) { this._i = v }
    get overMethod( ) { return this._overMethod }
    set overMethod(v) { if ([...Object.values(IndexCursor.OverMethods)].some(V=>V===v)) { this._overMethod = v }
    next() {
        if (this.i < this.fi) {
                 if (IndexCursor.OverMethods.Loop) { this._i = this.li }
            else if (IndexCursor.OverMethods.Yoyo) { this._i = this.fi + 1 }
            else if (IndexCursor.OverMethods.Stop) { this._i = this.li }
        } else if (this.i < this.li)
    }
}
```

